(this["webpackJsonpweather-monster"]=this["webpackJsonpweather-monster"]||[]).push([[0],{19:function(e,t,n){e.exports=n(37)},29:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(6),i=n.n(o),c=n(5),s=n(3),u=n(16),l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"ADD_CITY":return[].concat(Object(u.a)(e),[a.cityDetails]);case"REMOVE_CITY":return e.filter((function(e){return e.id!==a.cityId}));default:return e}},d=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"SHOW_SUGGESTION_LIST":return a.flag;default:return e}},m=n(10),p={inProgress:!1,failure:!1},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"REQUEST_IN_PROGRESS":return Object(m.a)({},e,{inProgress:a.flag});case"REQUEST_FAILURE":return Object(m.a)({},e,{failure:a.flag});default:return e}},y=Object(c.b)({activeCities:l,isSuggestionListActive:d,requestStatus:f}),h=(n(29),function(e){return{type:"SHOW_SUGGESTION_LIST",payload:{flag:e}}}),g="metric",v=g,E="Weather Monster",S="Loading...",C="No matches found.",b={heading:"No cities added",text:"Search and add cities from above."},w={heading:"An error occurred",text:"Please check browser console for more details."},N=n(1),I=n.n(N),L=n(13),O=n(14),A=n(17),x=n(15),_=n(18),D=function(e,t){return-1!==e.findIndex((function(e){return e.id===t}))},T=[{id:2643743,name:"London",country:"GB",coord:{lon:-.12574,lat:51.50853}},{id:2655603,name:"Birmingham",country:"GB",coord:{lon:-1.89983,lat:52.481419}},{id:5128638,name:"New York",country:"US",coord:{lon:-75.499901,lat:43.000351}},{id:1278710,name:"Amritsar",country:"IN",coord:{lon:74.865562,lat:31.63306}},{id:2950158,name:"Berlin",country:"DE",coord:{lon:10.45,lat:54.033329}},{id:1261481,name:"New Delhi",country:"IN",coord:{lon:77.23114,lat:28.61282}},{id:292223,name:"Dubai",country:"AE",coord:{lon:55.304722,lat:25.258169}},{id:184745,name:"Nairobi",country:"KE",coord:{lon:36.816669,lat:-1.28333}},{id:1850147,name:"Tokyo",country:"JP",coord:{lon:139.691711,lat:35.689499}},{id:524901,name:"Moscow",country:"RU",coord:{lon:37.615555,lat:55.75222}},{id:2147714,name:"Sydney",country:"AU",coord:{lon:151.207321,lat:-33.867851}},{id:2192362,name:"Christchurch",country:"NZ",coord:{lon:172.633331,lat:-43.533329}},{id:2179537,name:"Wellington",country:"NZ",coord:{lon:174.775574,lat:-41.28664}},{id:2193733,name:"Auckland",country:"NZ",coord:{lon:174.766663,lat:-36.866669}},{id:292672,name:"Sharjah",country:"AE",coord:{lon:55.403301,lat:25.357309}},{id:6691135,name:"Al Ghuwair",country:"AE",coord:{lon:55.391911,lat:25.35985}},{id:2911298,name:"Hamburg",country:"DE",coord:{lon:10,lat:53.549999}},{id:5391959,name:"San Francisco",country:"US",coord:{lon:-122.419418,lat:37.774929}},{id:5392171,name:"San Jose",country:"US",coord:{lon:-121.894958,lat:37.33939}},{id:5392281,name:"San Lorenzo",country:"US",coord:{lon:-122.124413,lat:37.681042}},{id:5392368,name:"San Marcos",country:"US",coord:{lon:-117.166138,lat:33.143372}},{id:5907364,name:"Brampton",country:"CA",coord:{lon:-79.766327,lat:43.683411}},{id:98182,name:"Baghdad",country:"IQ",coord:{lon:44.400879,lat:33.34058}},{id:1007311,name:"Durban",country:"ZA",coord:{lon:31.0292,lat:-29.857901}},{id:3369157,name:"Cape Town",country:"ZA",coord:{lon:18.42322,lat:-33.925838}},{id:186301,name:"Mombasa",country:"KE",coord:{lon:39.663589,lat:-4.05466}},{id:108410,name:"Riyadh",country:"SA",coord:{lon:46.721851,lat:24.687731}}],j=function(e){var t=e.message;return e.condition?r.a.createElement("p",null,t):""},k=(n(31),function(e){var t=e.addCity,n=e.filteredList;return e.isOpen?r.a.createElement("section",{className:"suggested-city-list"},n.map((function(e,n){return r.a.createElement("div",{className:"suggested-city-list-item",key:n,onClick:function(){return t(e)}},e.name)}))):null}),U=function(e){var t,n;return I.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t={data:{},statusCode:null},a.prev=1,a.next=4,I.a.awrap(fetch(e,{method:"GET",headers:{"Content-Type":"application/json"}}));case 4:return n=a.sent,a.next=7,I.a.awrap(n.json());case 7:return t.data=a.sent,t.statusCode=200,a.abrupt("return",t);case 12:return a.prev=12,a.t0=a.catch(1),t.statusCode=500,a.abrupt("return",t);case 16:case"end":return a.stop()}}),null,null,[[1,12]])},R=function(e){var t;return I.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t="".concat("https://cors-anywhere.herokuapp.com","/").concat("http://api.openweathermap.org/data/2.5/weather?id=").concat(e,"&units=").concat(v,"&APPID=").concat("a8769f8dbcec1ba81683a2151cacb6b1"),n.next=3,I.a.awrap(U(t));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}))},q=(n(32),function(e){function t(e){var n;return Object(L.a)(this,t),(n=Object(A.a)(this,Object(x.a)(t).call(this,e))).initialState={userInput:"",filteredList:T},n.onChange=function(e){var t=n.props.showSuggestionList,a=e.currentTarget.value,r=T.filter((function(e){return e.name.toLowerCase().includes(a.toLowerCase())}));n.setState({userInput:a,filteredList:r}),t(!0)},n.openDropdown=function(e){e.stopPropagation(),n.props.showSuggestionList(!0)},n.requestWeatherDetails=function(e){var t,a,r,o,i;return I.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return t=n.props,a=t.addCity,r=t.requestInProgress,o=t.requestFailure,r(!0),c.next=4,I.a.awrap(R(e));case 4:if(500!==(i=c.sent).statusCode){c.next=9;break}return r(!1),o(!0),c.abrupt("return");case 9:a(i.data),r(!1);case 11:case"end":return c.stop()}}))},n.addNewCity=function(e){var t=n.props,a=t.activeCities;(0,t.showSuggestionList)(!1),D(a,e.id)||(n.requestWeatherDetails(e.id),n.setState(n.initialState))},n.state=n.initialState,n}return Object(_.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.userInput,a=t.filteredList,o=this.props,i=o.isSuggestionListActive,c=o.requestStatus,s=o.activeCities;return r.a.createElement("section",null,r.a.createElement("input",{title:"Enter city name here",type:"search",value:n,className:"city-input-field",placeholder:"Enter city name here",onChange:this.onChange,onClick:function(t){return e.openDropdown(t)},onFocus:function(t){return e.openDropdown(t)}}),a&&a.length>0?r.a.createElement(k,{filteredList:a,addCity:this.addNewCity,isOpen:i,activeCities:s}):r.a.createElement(j,{condition:!0,message:C}),r.a.createElement(j,{condition:c.inProgress,message:S}))}}]),t}(a.Component)),P={addCity:function(e){return{type:"ADD_CITY",payload:{cityDetails:e}}},requestInProgress:function(e){return{type:"REQUEST_IN_PROGRESS",payload:{flag:e}}},requestFailure:function(e){return{type:"REQUEST_FAILURE",payload:{flag:e}}},showSuggestionList:h},G=Object(s.b)((function(e){return{activeCities:e.activeCities,requestStatus:e.requestStatus,isSuggestionListActive:e.isSuggestionListActive}}),P)(q),F=(n(33),function(e){var t=e.heading,n=e.text;return r.a.createElement("section",{className:"ui-state-indicator"},r.a.createElement("h3",null,t),r.a.createElement("div",null,n))}),M=(n(34),function(e){var t=e.city,n=e.removeCity;return r.a.createElement("article",{className:"card",onClick:function(){return n(t.id)},title:"Click to remove this city"},r.a.createElement("strong",null,t.name),r.a.createElement("div",null,r.a.createElement("span",{className:"min-temp-label"},"Min")," ",t.main.temp_min,"\xb0",v===g?"C":"F"),r.a.createElement("div",null,r.a.createElement("span",{className:"max-temp-label"},"Max")," ",t.main.temp_max,"\xb0",v===g?"C":"F"))}),B=(n(35),{removeCity:function(e){return{type:"REMOVE_CITY",payload:{cityId:e}}}}),W=Object(s.b)((function(e){return{activeCities:e.activeCities,requestStatus:e.requestStatus}}),B)((function(e){var t=e.requestStatus,n=e.activeCities,a=e.removeCity,o=w;return r.a.createElement("section",{className:"active-city-card-wrapper"},r.a.createElement("section",{className:"active-city-list"},t.failure?r.a.createElement(F,o):function(e,t,n){var a=b;return e&&e.length>0?function(e){return e.sort((function(e,t){return t.main.temp_max-e.main.temp_max}))}(e).map((function(e,n){return r.a.createElement(M,{key:n,city:e,removeCity:t})})):n.inProgress?"":r.a.createElement(F,a)}(n,a,t)))}));n(36);var Q={showSuggestionList:h},Y=Object(s.b)(null,Q)((function(e){var t=e.showSuggestionList;return r.a.createElement("div",{className:"app-container",onClick:function(){return t(!1)}},r.a.createElement("header",null,r.a.createElement("h1",null,E)),r.a.createElement(G,null),r.a.createElement(W,null))})),Z=Object(c.c)(y);i.a.render(r.a.createElement(s.a,{store:Z},r.a.createElement(Y,null)),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.cf5b5551.chunk.js.map